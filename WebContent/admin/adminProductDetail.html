<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Quixlab - Bootstrap Admin Dashboard Template by Themefisher.com</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
    <!-- Custom Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


<style type="text/css">

.filebox input[type="file"] { 
	position: absolute; 
	width: 1px; 
	height: 1px; 
	padding: 0; 
	margin: -1px; 
	overflow: hidden; 
	clip:rect(0,0,0,0); 
	border: 0; 
}

.filebox label { 
	display: inline-block; 
	padding: .5em .75em; 
	color: #999; 
	font-size: inherit; 
	line-height: normal; 
	vertical-align: middle; 
	background-color: #fdfdfd; 
	cursor: pointer; 
	border: 1px solid #ebebeb; 
	border-bottom-color: #e2e2e2; 
	border-radius: .25em; 
} /* named upload */ 

.filebox .upload-name { 
	display: inline-block; 
	padding: .5em .75em; /* label의 패딩값과 일치 */ 
	font-size: inherit; 
	font-family: inherit; 
	line-height: normal; 
	vertical-align: middle; 
	background-color: #f6f6f6; 
	border: 1px solid #ebebeb; 
	border-bottom-color: #e2e2e2; 
	border-radius: .25em; 
	-webkit-appearance: none; /* 네이티브 외형 감추기 */ 
	-moz-appearance: none; appearance: none; 
	width: 500px;
	height: 40px;
}

</style>

<style type="text/css">
.prdTitle{
	font-size: 18px;
	font-weight: 700;
}

.form-group {
    margin-bottom: 40px;
}

</style>

<style type="text/css">

.title{
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    margin: 0 0 10px;
}
.option-list{
    padding: 5px 0;
    margin: 0;
    list-style: none;
}
.radio-button{
    line-height: 1;
    margin: 0 5px;
    display: inline-block;
}
.radio-button input[type=radio]{
    visibility: hidden;
    position: absolute;
    left: 0;
    right: 0;
}
.radio-button label{
    background-color: #EA2027;
    height: 22px;
    width: 22px;
    margin: 0;
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.3s ease 0s;
}
.radio-button.white label{ background-color: #FCFAF9; }
.radio-button.black label{ background-color: #000000; }
.radio-button.red label{ background-color: #EF4F41; }
.radio-button.orange label{ background-color: #F99149; }
.radio-button.yellow label{ background-color: #F7DD73; }
.radio-button.green label{ background-color: #79A95F; }
.radio-button.blue label{ background-color: #3D80BB; }
.radio-button.navy label{ background-color: #062647; }
.radio-button.purple label{ background-color: #725599; }
.radio-button.pink label{ background-color: #F2E8D5; }
.radio-button.ivory label{ background-color: #a50303; }
.radio-button.gray label{ background-color: #CAC9C8; }
.radio-button.brown label{ background-color: #886746; }
/* .radio-button input[type=radio]:checked+label{ box-shadow: 0 0 0 2px #fff,0 0 0 4px #ada2a2; }
.radio-button input[type=radio]:checked+label{ box-shadow: 0 0 0 2px #fff,0 0 0 4px #ada2a2; }
 */
 	@media only screen and (max-width:767px){
    .radio-button{ margin: 0 5px 20px; }
}
License Terms

</style>

<style type="text/css">
.imgDetail{
	width: 300px;
	height: 250px;
	border: 1px solid #cabebe;
	margin-left: 10px;
}
.textarea_editor {
    min-height: 0px;
    width: 600px;
    margin-bottom: 10px;
}

</style>

<script type="text/javascript">
		let urlParams = location.search.split(/[?&]/).slice(1).map(function(paramPair) {
		    return paramPair.split(/=(.+)?/).slice(0, 2);
		}).reduce(function(obj, pairArray) {
		    obj[pairArray[0]] = pairArray[1];
		    return obj;
		}, {});
		</script>
		
</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    
    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
         <div class="nav-header">
            <div class="brand-logo" style="margin: 20px 20px 20px 20px">
                    <span class="logo-compact"><img src="./images/1122.png" alt=""></span>
                    <span class="brand-title" style="font-size: 24px; color:white;">MOFF</span>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->

        <!--**********************************
            Header start
        ***********************************-->
      <div class="header">    
            <div class="header-content clearfix">
                
                <div class="nav-control">
                    <div class="hamburger">
                        <span class="toggle-icon"><i class="icon-menu"></i></span>
                    </div>
                </div>
                <div class="header-left">
                    <div class="input-group icons">
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
       <div class="nk-sidebar">           
            <div class="nk-nav-scroll">
                <ul class="metismenu" id="menu">
                    <li class="nav-label">관리자 페이지</li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-line-chart" style="font-size:20px"></i>&ensp;<span class="nav-text">매출관리</span>
                        </a>
                    	<ul aria-expanded="false">
                            <li><a href="newfile6.html">매출관리</a></li>
                           
                        </ul>
                    </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-pencil-square-o" style="font-size:20px">&ensp;</i><span class="nav-text">주문관리</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="adminSales.html">주문관리</a></li>
                          
                        </ul>
                    </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-line-chart" style="font-size:20px"></i>&ensp;<span class="nav-text">주문통계</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="adminProduct.html">주문통계</a></li>
                            <!-- <li><a href="./app-calender.html">배달승인</a></li> -->
                        </ul>
                    </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-cog" style="font-size:20px">&ensp;</i><span class="nav-text">상품관리</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="adminProductWrite.html">상품등록</a></li>
                            <li><a href="adminProductList.html">상품리스트</a></li>
                            <li><a href="adminStockList.html">재고관리</a></li>
                            <!-- <li><a href="adminProduct.html">주문통계</a></li> -->
                        </ul>
                    </li>
                    
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                           <i class="fa fa-address-book-o" style="font-size:20px"></i>&ensp;<span class="nav-text">회원관리</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="AdminMember.html">회원관리</a></li>
                            <!-- <li><a href="./app-calender.html">배달승인</a></li> -->
                        </ul>
                    </li>
                     <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-calendar-check-o" style="font-size:20px"></i>&ensp;<span class="nav-text">배달승인</span>
                        </a>
                        <ul aria-expanded="false">
                           <li><a href="AdminBoyDATA.html">배달승인</a></li>
                            <!-- <li><a href="./app-calender.html">배달승인</a></li> -->
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">

            <div class="row page-titles mx-0">
                <div class="col p-md-0">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Dashboard</a></li>
                        <li class="breadcrumb-item active"><a href="javascript:void(0)">Home</a></li>
                    </ol>
                </div>
            </div>
            <!-- row -->

            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="email-right-box" style="margin-left:30px;">
                                    <div class="compose-content mt-5">
                                        <form id="productForm">
                                            <div class="form-group">
                                            	<p class="prdTitle">상품명</p>
                                                <input type="text" id="prodName" name="prodName" value="" class="form-control bg-transparent" readonly="readonly" style="width: 500px;">
                                            </div>
                                            
                                            <div class="form-group" id="cateId">
                                            	<p class="prdTitle">카테고리</p>
                                            	 <input type="text" id="cate" name="cate" value="" class="form-control bg-transparent" readonly="readonly" style="width: 500px;">
                                            </div>
                                             <div class="form-group" id="color1">
                                            	<p class="prdTitle">대표색상</p>
                                            	<ul class="option-list" id="_color1">
										            </ul>        
                                            </div>
                                            <div class="form-group">
                                            	<p class="prdTitle" id="color2">추가색상 (선택)</p>
                                            	   	
										            <ul class="option-list" id="_color2">
										            </ul>        
                                            </div>
                                             <div class="form-group">
                                            	<p class="prdTitle">가격/무게/수량/베송비</p>
                                                가격&ensp;<input class="prdInput" type="text" min="0" id="oriPrice" name="oriPrice" style="width: 100px;" readonly="readonly">&ensp;원&emsp;&emsp;&emsp;
                                                세일가&ensp;<input class="prdInput" type="text" min="0"id="price" name="price" style="width: 100px;" readonly="readonly">&ensp;원<br><br>
                                                무게&ensp;<input class="prdInput" type="text" min="0" id="weight" name="weight" style="width: 100px;" readonly="readonly">&ensp;kg&emsp;&emsp;&emsp;
                                                수량&ensp;<input class="prdInput" type="text" min="0" id="quantity" name="quantity" style="width: 100px;" readonly="readonly">&ensp;개&emsp;&emsp;&emsp;
                                                기본배송비&ensp;<input class="prdInput" type="text" min="0" id="deliveryCost" name="deliveryCost" style="width: 100px;" readonly="readonly">&ensp;원
                                                
                                            </div>
                                             
                                            <div class="form-group">
                                          	  <p class="prdTitle">상품정보</p>
                                                <textarea class="textarea_editor form-control bg-light" id="info1" name="info"rows="10" style="resize: none;" readonly="readonly"></textarea>
                                            </div>
                                            <div class="form-group">
                                            	<p class="prdTitle" id="prdImg">대표이미지</p>
                                            		<img class="imgDetail" id="img1" src="">
                                            </div>
                                            <div class="form-group">
                                            	<p class="prdTitle">상세이미지</p>
                                            		<div  id="prdImg2"></div>
                                            		<!-- <img style="width: 500px; height: 400px;" id="img2" src=""> -->

                                            </div>
                                          <!--   <div class="form-group">
                                            	<p class="prdTitle" id="info2">상세이미지 정보</p>
                                                 <textarea class="textarea_editor form-control bg-light" rows="10" readonly="readonly"></textarea>
                                            </div> -->
                                            
                                             <div class="form-group">
                                            	<p class="prdTitle">컬러이미지 (추가색상 선택 시 필수)</p>
													<div id="prdImg3"></div>
                                            </div>
                                        </form>
                                     <!--    <h5 class="m-b-20"><i class="fa fa-paperclip m-r-5 f-s-18"></i> Attatchment</h5>
                                        <form action="#" class="dropzone">
                                            <div class="form-group">
                                                <div class="fallback">
                                                    <input class="l-border-1" name="file" type="file" multiple="multiple">
                                                </div>
                                            </div>
                                        </form> -->
                                    </div>
                                    <div class="text-left m-t-15" align="center">
                                        <button class="btn btn-primary m-b-30 m-t-15 f-s-14 p-l-20 p-r-20 m-r-10" type="button" onclick="prdList()">목록</button>
                                       <!--  <button class="btn btn-dark m-b-30 m-t-15 f-s-14 p-l-20 p-r-20" type="button" onclick="update()"><i class="ti-close m-r-5 f-s-12"></i> 수정</button> -->
                                        <button class="btn btn-dark m-b-30 m-t-15 f-s-14 p-l-20 p-r-20" type="button" onclick="delProduct()"><i class="ti-close m-r-5 f-s-12"></i> 삭제</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- #/ container -->
        </div>
        <!--**********************************
            Content body end
        ***********************************-->
        
        
        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright &copy; Designed & Developed by <a href="https://themeforest.net/user/quixlab">Quixlab</a> 2018</p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <script src="plugins/common/common.min.js"></script>
    <script src="js/custom.min.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/gleek.js"></script>
    <script src="js/styleSwitcher.js"></script>


<script type="text/javascript">

adminProductDetail();
adminImgDetail();
adminColorDetail();

// 디테일
function adminProductDetail() {
	let prodNum = urlParams.prodNum;
	//alert(prodNum);
	
	$.ajax({
		url:"http://localhost:3000/adminProductDetail?prodNum=" + prodNum,
		type:'get',
		data:{prodNum:prodNum},
		success:function(data){
		//	alert(JSON.stringify(data));
		
		var oriexprice = String(data.oriPrice);
		var orilaprice = oriexprice.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
		
		var exprice = String(data.price);
		var laprice = exprice.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
		
		var deliExprice = String(data.deliveryCost);
		var delilaprice = deliExprice.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
		
		var quan = String(data.quantity);
		var quanlaprice = quan.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
		
			$("#prodName").val(data.prodName);
			$("#cate").val(data.category);
			$("#color1").val(data.color);
			
			if(data.price != null && data.price != ""){
				$("#oriPrice").val(orilaprice);
				$("#price").val(laprice);
				
			}else{
				$("#oriPrice").val(orilaprice);
				$("#price").val('없음');
			}
			
			$("#weight").val(data.weight);
			$("#quantity").val(quanlaprice);
			
			if(data.deliveryCost == null || data.deliveryCost == ""){
				$("#deliveryCost").val('없음');				
				
			}else{
				$("#deliveryCost").val(delilaprice);
			}
			$("#info1").val(data.info);
			
			var img1 = "http://localhost:3000/adminProduct/" + data.filename;
			$("#img1").attr("src",img1);
			
			//컬러
			let color ="";
			if(data.color == 'white'){
				color = '<li class="radio-button white">';
				color += '<input type="radio" class="colName1" name="color" value="white" id="op0"><label for="op0"></label>';
				color += '</li>';		
				 		
			}else if(data.color == 'black'){
				color = '<li class="radio-button black">';
				color +=  '<input type="radio" class="colName1" name="color" value="black" id="op1"><label for="op1"></label>';
				color += '</li>';
				
			}else if(data.color == 'red'){
				color = '<li class="radio-button red">';
				color += '<input type="radio" class="colName1" name="color" value="red" id="op2"><label for="op2"></label>';
				color += '</li>';	
				
			}else if(data.color == 'orange'){
				color = '<li class="radio-button orange">';
				color += '<input type="radio" class="colName1" name="color" value="orange" id="op3"><label for="op3"></label>';
				color += '</li>';	
				
			}else if(data.color == 'yellow'){
				color = '<li class="radio-button yellow">';
				color += '<input type="radio" class="colName1" name="color" value="yellow" id="op4"><label for="op4"></label>';
				color += '</li>';	
				
			}else if(data.color == 'green'){
				color = '<li class="radio-button green">';
				color += '<input type="radio" class="colName1" name="color" value="green" id="op5"><label for="op5"></label>';
				color += '</li>';	
				
			}else if(data.color == 'blue'){
				color = '<li class="radio-button blue">';
				color += '<input type="radio" class="colName1" name="color" value="blue" id="op6"><label for="op6"></label>';
				color += '</li>';	
				
			}else if(data.color == 'navy'){
				color = '<li class="radio-button navy">';
				color += '<input type="radio" class="colName1" name="color" value="navy" id="op7"><label for="op7"></label>';
				color += '</li>';	
				
			}else if(data.color == 'purple'){
				color = '<li class="radio-button purple">';
				color += '<input type="radio" class="colName1" name="color" value="purple" id="op8"><label for="op8"></label>';	
				color += '</li>';	
				
			}else if(data.color == 'pink'){
				color = '<li class="radio-button pink">';
				color += '<input type="radio" class="colName1" name="color" value="pink" id="op9"><label for="op9"></label>';	
				color += '</li>';	
				
			}else if(data.color == 'ivory'){
				color = '<li class="radio-button ivory">';
				color += '<input type="radio" class="colName1" name="color" value="ivory" id="op10"><label for="op10"></label>';
				color += '</li>';	
				
			}else if(data.color == 'gray'){
				color = '<li class="radio-button gray">';
				color += '<input type="radio" class="colName1" name="color" value="gray" id="op11"><label for="op11"></label>';	
				color += '</li>';	
				
			}else if(data.color == 'brown'){
				color = '<li class="radio-button brown">';
				color += '<input type="radio" class="colName1" name="color" value="brown" id="op12"><label for="op12"></label>';				}
				color += '</li>';	
		
			$("#_color1").html(color);
		
		},
		error:function(){
			alert('adminProductDetail err');
		}
		
	});
}


// 상세이미지 불러오기
function adminImgDetail() {
	let prodNum = urlParams.prodNum;
	
	$.ajax({
		url:"http://localhost:3000/adminImgDetail?prodNum=" + prodNum,
		type:'get',
		data:{prodNum:prodNum},
		success:function(list){
		//	alert(JSON.stringify(list));
			
			$.each(list, function(i, data){
			//	var img2 = "http://localhost:3000/adminProduct/" + data.imgFilename;
				$("#prdImg2").append('<img class="imgDetail" src="http://localhost:3000/adminProduct/'+data.imgFilename+'">');
				
		//		$("#info2").append('<textarea class="textarea_editor form-control bg-light" style="resize:none;" readonly="readonly">'+ data.info +'</textarea>');
				
			});
			
		},
		error:function(){
			alert('adminImgDetail err');
		}
		
	});
}


// 컬러리스트 불러오기
function adminColorDetail(){
	let prodNum = urlParams.prodNum;
//	alert(prodNum);
	
	$.ajax({
		url:"http://localhost:3000/adminColorDetail?prodNum=" + prodNum,
		type:'get',
		data:{prodNum:prodNum},
		success:function(list){
	//		alert(JSON.stringify(list));
		
		
			
			$.each(list, function(i, val){
			//	var img2 = "http://localhost:3000/adminProduct/" + data.imgFilename;
				let color="";
				if(val.color == 'white'){
					color = '<li class="radio-button white">';
					color += '<input type="radio" class="colName1" name="color" value="white" id="pp12"><label for="pp12"></label>';
					color += '</li>';		
					 		
				}else if(val.color == 'black'){
					color = '<li class="radio-button black">';
					color +=  '<input type="radio" class="colName1" name="color" value="black" id="pp13"><label for="pp13"></label>';
					color += '</li>';
					
				}else if(val.color == 'red'){
					color = '<li class="radio-button red">';
					color += '<input type="radio" class="colName1" name="color" value="red" id="pp14"><label for="pp14"></label>';
					color += '</li>';	
					
				}else if(val.color == 'orange'){
					color = '<li class="radio-button orange">';
					color += '<input type="radio" class="colName1" name="color" value="orange" id="pp15"><label for="pp15"></label>';
					color += '</li>';	
					
				}else if(val.color == 'yellow'){
					color = '<li class="radio-button yellow">';
					color += '<input type="radio" class="colName1" name="color" value="yellow" id="pp16"><label for="pp16"></label>';
					color += '</li>';	
					
				}else if(val.color == 'green'){
					color = '<li class="radio-button green">';
					color += '<input type="radio" class="colName1" name="color" value="green" id="pp17"><label for="pp17"></label>';
					color += '</li>';	
					
				}else if(val.color == 'blue'){
					color = '<li class="radio-button blue">';
					color += '<input type="radio" class="colName1" name="color" value="blue" id="pp18"><label for="pp18"></label>';
					color += '</li>';	
					
				}else if(val.color == 'navy'){
					color = '<li class="radio-button navy">';
					color += '<input type="radio" class="colName1" name="color" value="navy" id="pp19"><label for="pp19"></label>';
					color += '</li>';	
					
				}else if(val.color == 'purple'){
					color = '<li class="radio-button purple">';
					color += '<input type="radio" class="colName1" name="color" value="purple" id="pp20"><label for="pp20"></label>';	
					color += '</li>';	
					
				}else if(val.color == 'pink'){
					color = '<li class="radio-button pink">';
					color += '<input type="radio" class="colName1" name="color" value="pink" id="pp21"><label for="pp21"></label>';	
					color += '</li>';	
					
				}else if(val.color == 'ivory'){
					color = '<li class="radio-button ivory">';
					color += '<input type="radio" class="colName1" name="color" value="ivory" id="pp22"><label for="pp22"></label>';
					color += '</li>';	
					
				}else if(val.color == 'gray'){
					color = '<li class="radio-button gray">';
					color += '<input type="radio" class="colName1" name="color" value="gray" id="pp23"><label for="pp23"></label>';	
					color += '</li>';	
					
				}else if(val.color == 'brown'){
					color = '<li class="radio-button brown">';
					color += '<input type="radio" class="colName1" name="color" value="brown" id="pp24"><label for="pp24"></label>';				}
					color += '</li>';	
			
				$("#_color2").append(color);
				
				$("#prdImg3").append('<img class="imgDetail" src="http://localhost:3000/adminProduct/'+val.colorFilename+'">');
				
			});
			
		},
		error:function(){
			alert('adminImgDetail err');
		}
		
	});
	
}

function prdList() {
	location.href="adminProductList.html";
}

/* function update() {
	let prodNum = urlParams.prodNum;
	location.href="adminProductUpdate.html?prodNum=" + prodNum;
} */

function delProduct() {
	let prodNum = urlParams.prodNum;
	
	$.ajax({
		url:"http://localhost:3000/delProduct?prodNum=" + prodNum,
		type:'get',
		data:{prodNum:prodNum},
		success:function(data){
			if(data.trim() == "YES"){
				alert('삭제되었습니다.');
				location.href="adminProductList.html";
				
			}else if(data.trim() == "NO"){
				alert('다시 시도해주세요.');
			}
			
		},
		error:function(){
			alert('adminProductDetail err');
		}
		
	});
}

</script>



</body>

</html>