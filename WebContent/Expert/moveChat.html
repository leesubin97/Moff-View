
<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>시공 홈</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
		<!-- Place favicon.ico in the root directory -->
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		
		<script type="text/javascript" src="../jquery/jquery.min.js"></script>	
		
		
		
		<!-- Google Font -->
		<link href='https://fonts.googleapis.com/css?family=Lato:400,700,900' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>

		<!-- all css here -->
		<!-- bootstrap v3.3.6 css -->
		<link rel="stylesheet" href="../css/bootstrap.min.css">
		<!-- animate css -->
		<link rel="stylesheet" href="../css/animate.css">
		<!-- jquery-ui.min css -->
		<link rel="stylesheet" href="../css/jquery-ui.min.css">
		<!-- meanmenu css -->
		<link rel="stylesheet" href="../css/meanmenu.min.css">
		<!-- nivo-slider css -->
		<link rel="stylesheet" href="../lib/css/nivo-slider.css">
		<link rel="stylesheet" href="../lib/css/preview.css">
		<!-- slick css -->
		<link rel="stylesheet" href="../css/slick.css">
		<!-- lightbox css -->
		<link rel="stylesheet" href="../css/lightbox.min.css">
		<!-- material-design-iconic-font css -->
		<link rel="stylesheet" href="../css/material-design-iconic-font.css">
		<!-- All common css of theme -->
		<link rel="stylesheet" href="../css/default.css">
		<!-- style css -->
		<link rel="stylesheet" href="../css/style.css">
        <!-- shortcode css -->
        <link rel="stylesheet" href="../css/shortcode.css">
		<!-- responsive css -->
		<link rel="stylesheet" href="../css/responsive.css">
		<link rel="stylesheet" href="../css/chatExpert.css">
		
		
<style>
    .map_wrap {position:relative;width:100%;height:350px;}
    .title {font-weight:bold;display:block;}
    .hAddr {position:absolute;left:10px;top:10px;border-radius: 2px;background:#fff;background:rgba(255,255,255,0.8);z-index:1;padding:5px;}
    #centerAddr {display:block;margin-top:2px;font-weight: normal;}
    .bAddr {padding:5px;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;}
    
		#yourMsg{
			display: none;
		}
		
		
.bg-dark-white {
    background: #ffffff;
}
</style>
	<!-- delivery service -->
	
	<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	 -->
	
	 
	 
	
	<!-- <script src="../js/admin_page.js"></script>  -->
		
		
		
		<!-- modernizr css -->
		<script src="../js/vendor/modernizr-2.8.3.min.js"></script>
	
		<script type="text/javascript">
	let urlParams = location.search.split(/[?&]/).slice(1).map(function(paramPair) {
	    return paramPair.split(/=(.+)?/).slice(0, 2);
	}).reduce(function(obj, pairArray) {
	    obj[pairArray[0]] = pairArray[1];
	    return obj;
	}, {});
	
	</script>
	</head>
	<body>	
		<!-- WRAPPER START -->
		<div class="wrapper bg-dark-white">

			<!-- HEADER-AREA START -->
		
			
<header id="sticky-menu" class="header">
				<div class="header-area">
					<div class="container-fluid">
						<div class="row">
							<div class="col-sm-4 col-sm-offset-4 col-xs-7">
								<div class="logo text-center">
									<a href="index.html"><img src=" ../img/logo/logo.png " alt="" /></a>
								</div>
							</div>
							<div class="col-sm-4 col-xs-5" style="margin-top:20px;">
								<div class="mini-cart text-right">
									<ul>
										<li class="header_Right">
												<!-- <a href="./member/login.html"><i class="zmdi zmdi-account" style="font-size: 25px;"></i></a>&emsp;&emsp;
												<a href="./member/cart.html"><i class="zmdi zmdi-favorite-outline" style="font-size: 25px;"></i></a>&emsp;&emsp;
												<a href="./member/cart.html"><i class="zmdi zmdi-truck" style="font-size: 25px;"></i></a> -->
										
										<!-- 	<a class="cart-icon" href="#">
												<i class="zmdi zmdi-shopping-cart"></i>
												<span>3</span>
											</a> -->
										<!-- 	<div class="mini-cart-brief text-left">
												<div class="cart-items">
													<p class="mb-0">You have <span>03 items</span> in your shopping bag</p>
												</div>
												<div class="all-cart-product clearfix">
													<div class="single-cart clearfix">
														<div class="cart-photo">
															<a href="#"><img src="img/cart/1.jpg" alt="" /></a>
														</div>
														<div class="cart-info">
															<h5><a href="#">dummy product name</a></h5>
															<p class="mb-0">Price : $ 100.00</p>
															<p class="mb-0">Qty : 02 </p>
															<span class="cart-delete"><a href="#"><i class="zmdi zmdi-close"></i></a></span>
														</div>
													</div>
													<div class="single-cart clearfix">
														<div class="cart-photo">new
															<a href="#"><img src="img/cart/2.jpg" alt="" /></a>
														</div>
														<div class="cart-info">
															<h5><a href="#">dummy product name</a></h5>
															<p class="mb-0">Price : $ 300.00</p>
															<p class="mb-0">Qty : 01 </p>
															<span class="cart-delete"><a href="#"><i class="zmdi zmdi-close"></i></a></span>
														</div>
													</div>
												</div>
												<div class="cart-totals">
													<h5 class="mb-0">Total <span class="floatright">$500.00</span></h5>
												</div>
												<div class="cart-bottom  clearfix">
													<a href="#" class="button-one floatleft text-uppercase" data-text="View cart">View cart</a>
													<a href="#" class="button-one floatright text-uppercase" data-text="Check out">Check out</a>
												</div>
											</div> -->
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				</header>
				<!-- MAIN-MENU START -->
				<div class="menu-toggle menu-toggle-2 hamburger hamburger--emphatic hidden-xs">
					<div class="hamburger-box">
						<div class="hamburger-inner"></div>
					</div>
				</div>
				<div class="main-menu  hidden-xs">
					<nav>
						<ul class ="CategoryUp">
							<li><a href="../index.html">home</a>

							</li>
							 <li><a href="../product/productlist.html">products</a>
								  <div class="mega-menu menu-scroll">
                                    <div class="table">
                                        <div class="table-cell">
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">침대</li>
                                                    <li><a href="../product/productlist.html?page=0&_category=침대">모든 상품</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=침대&_subCategory=더블/퀸/킹침대">더블/퀸/킹 침대</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=침대&_subCategory=수납형침대">수납형침대</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=침대&_subCategory=싱글/슈퍼싱글침대">싱글/슈퍼싱글 침대</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=침대&_subCategory=매트리스">매트리스</a></li>
                                                </ul>
                                            </div>
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">식탁/책상</li>
                                                    <li><a href="../product/productlist.html?page=0&_category=식탁/책상">모든 상품</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=식탁/책상&_subCategory=테이블">테이블</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=식탁/책상&_subCategory=책상/컴퓨터책상">책상/컴퓨터책상</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=식탁/책상&_subCategory=식탁">식탁</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=식탁/책상&_subCategory=협탁/화장대">협탁/화장대</a></li>
                                                </ul>
                                            </div>
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">쇼파</li>
                                                    <li><a href="./product/productlist.html?page=0&_category=쇼파">모든 상품</a></li>
                                                    <li><a href="./product/productlist.html?page=0&_category=쇼파&_subCategory=패브릭쇼파">패브릭쇼파</a></li>
                                                    <li><a href="./product/productlist.html?page=0&_category=쇼파&_subCategory=천연/인조가죽쇼파">천연/인조가죽 쇼파</a></li>
                                                </ul>
                                            </div>
                                            
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">수납장/장식장/서랍장</li>
                                                    <li><a href="../product/productlist.html?page=0&_category=수납장/장식장/서랍장">모든 상품</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=수납장/장식장/서랍장&_subCategory=장식장">장식장</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=수납장/장식장/서랍장&_subCategory=수납장">수납장</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=수납장/장식장/서랍장&_subCategory=서랍장">서랍장</a></li>
                                                </ul>
                                            </div>
                                            
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">책장</li>
                                                    <li><a href="../product/productlist.html?page=0&_category=책장">모든 상품</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=책장&_subCategory=수납선반/유닛">수납선반/유닛</a></li>
                                                </ul>
                                            </div>
                                            
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">의자</li>
                                                    <li><a href="../product/productlist.html?page=0&_category=의자">모든 상품</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=의자&_subCategory=암체어">암체어</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=의자&_subCategory=사무용의자">사무용의자</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=의자&_subCategory=식탁의자">식탁의자</a></li>
                                                </ul>
                                            </div>
                                            <div class="half-width">
                                                <ul>
                                                    <li class="menu-title">기타</li>
                                                    <li><a href="../product/productlist.html?page=0&_category=기타">모든 상품</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=기타&_subCategory=조명">조명</a></li>
                                                    <li><a href="../product/productlist.html?page=0&_category=기타&_subCategory=장식용품">장식용품</a></li>
                                                </ul>
                                            </div>
                                            <div class="pb-80"></div>
                                        </div>
                                    </div>
                                </div>
							</li>
                            <li><a href="../custom/custom.html">CUSTOM MADE</a>
                                <div class="sub-menu menu-scroll">
                                    <ul>
                                        <li class="menu-title">주문제작</li>
                                        <li><a href="../custom/chair.html">의자</a></li>
                                        <li><a href="../custom/bedType.html">침대</a></li>
                                        <li><a href="../custom/storage.html">수납장</a></li>
                                        <li><a href="../custom/desk.html">책상</a></li>  
                                    </ul>
                                </div>
                            </li>
							<li><a href="../showroom/showroom.html">SHOWROOM</a></li>
							<li><a href="../BuyBack/BuyBackMain.html">BUYBACK</a></li>
							<li><a href="../Expert/ExpertPage.html">EXPERTS</a></li>
							<li><a href="../community/communityList.html">COMMUNITY</a></li>
							<li><a href="../cs/cslist.html">HELP CENTER</a></li>
							
						</ul>
					</nav>
				</div>
			
			
			<script type="text/javascript">
			$(document).ready(function(){
			    let login = JSON.parse(sessionStorage.getItem("login"));
//			    let id = login;
			    
			 //   let Type = login.memberType;
			 //   let Id = login.id;
			 //   let DeliAdmi = login.deliveryAdmi;
			    
			    
			    if(login== null){
			       let headerStr = '<a href="../member/login.html"><i class="zmdi zmdi-account" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			                   + '<a href="../member/login.html"><i class="zmdi zmdi-favorite-outline" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			                   + '<a href="../member/login.html"><i class="zmdi zmdi-truck" style="font-size: 25px;"></i></a>';
			       $(".header_Right").html(headerStr);
			    
			    }else if(login.memberType == 0){
			       let headerStr = '<a href="../member/mypage.html"><i class="zmdi zmdi-account" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			          + '<a href="../member/cart.html"><i class="zmdi zmdi-favorite-outline" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			          + '<a href="../member/purchases.html"><i class="zmdi zmdi-truck" style="font-size: 25px;"></i></a>';
			          
			       $(".header_Right").html(headerStr);
			       
			    }else if(login.memberType == 2){
			        let headerStr = '<a href="../admin/AdminMember.html"><i class="zmdi zmdi-account" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			            + '<a href="../member/cart.html"><i class="zmdi zmdi-favorite-outline" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			            + '<a href="../member/purchases.html"><i class="zmdi zmdi-truck" style="font-size: 25px;"></i></a>';
			            
			         $(".header_Right").html(headerStr);
			 
			    }else 
			       
			       

			      // 시공업체가 로그인할 때    
			      if(login.memberType == 3){
			          let headerStr = '<a href="../member/mypage.html"><i class="zmdi zmdi-account" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			             + '<a href="../member/cart.html"><i class="zmdi zmdi-favorite-outline" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			             + '<a href="../member/purchases.html"><i class="zmdi zmdi-truck" style="font-size: 25px;"></i></a>';
			         
			        $(".header_Right").html(headerStr);
			       $(".CategoryUp").append("<li><a style='color:#4154f9' href='../Expert/ExpertMyPage.html?loginId="+ login.id + "'>나의 업체 페이지</a></li>");
			       
			    }
			    
			    // 뽀이가 로그인할 때
			    if(login.deliveryAdmi == 1){
			        let headerStr = '<a href="../member/mypage.html"><i class="zmdi zmdi-account" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			               + '<a href="../member/cart.html"><i class="zmdi zmdi-favorite-outline" style="font-size: 25px;"></i></a>&emsp;&emsp;'
			               + '<a href="../member/purchases.html"><i class="zmdi zmdi-truck" style="font-size: 25px;"></i></a>';
			                
			       
			               $(".header_Right").html(headerStr);
			       $(".CategoryUp").append("<li><a  style='color:#4154f9' href='../DeliveryAccount/DeliveryService.html'>배달 서비스</a></li>");
			   
			    
			    }
			    
			 
			    
			 });
			 
			
			
			</script>
			<!-- Mobile-menu end -->
			<!-- HEADING-BANNER START -->
			<div class="heading-banner-area" style="background-color: #ffdc16;">
				<div class="container">
					<div class="row">
						<div>
						<!-- <div class="col-md-12"> -->
							<div class="heading-banner">
								<div class="heading-banner-title">
									<h2 style=" color: #5d5a55 ">1대1상담 &nbsp;&nbsp;</h2>
								</div>
								<div class="breadcumbs pb-15" style="color:#5d5a55">
									<ul>
										<li><a href="index.html" style="color:#5d5a55">Home</a></li>
										<li style="color:#5d5a55">1대1상담</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- HEADING-BANNER END -->
			<!-- SHOPPING-CART-AREA START -->
			<div class="shopping-cart-area  pt-80 pb-80" style="height:600px; padding-top: 35px;">
				<div class="container">	
					<div class="row">
						<div class="col-md-12 col-sm-12 col-xs-12">
							<div class="shopping-cart">
								
								

								<!-- Tab panes -->
								<div class="tab-content">
									<!-- shopping-cart start -->
									<div class="tab-pane active" id="shopping-cart">
										<form action="#">
											
		<div class="product-area pt-80 pb-80 product-style-2" style="padding-top: 0px;">
				<div class="container">
					<!-- Shop-Content End -->
					<div class="shop-content">
						
							
								<div class=" "  style="height:600px; padding-top: 15px;"  align="center">
									
									<script type="text/javascript">
									
									var login = JSON.parse(sessionStorage.getItem("login"));
									var id = login.id;
									//alert(id);
									
									$(document).ready(function(){
									$(".appendId").val(id);
									});
									
									var ws;
										var roomNumber = urlParams.roomNumber;
										var eNUM = urlParams.eNUM;
									
										//alert(roomNumber);
										//alert(eNUM);
										
										function wsOpen(){
											//웹소켓 전송시 현재 방의 번호를 넘겨서 보낸다.
											
											
											ws = new WebSocket("ws://localhost:3000/chating/"+ eNUM + "/"+ roomNumber);
											wsEvt();
										}
											
										function wsEvt() {
											ws.onopen = function(data){
												//소켓이 열리면 동작
											}
											
											ws.onmessage = function(data) {
												
												
												
												
												//메시지를 받으면 동작
												var msg = data.data;
												if(msg != null && msg.trim() != ''){
													var d = JSON.parse(msg);
													if(d.type == "getId"){
														var si = d.sessionId != null ? d.sessionId : "";
														if(si != ''){
															$("#sessionId").val(si); 
														}
													}else if(d.type == "message"){
														if(d.sessionId == $("#sessionId").val()){
															$("#chating").append("<div class='direct-chat-msg right'><div class='direct-chat-info clearfix'><span class='direct-chat-name pull-right'>" + id +"</span></div> <div class='direct-chat-text'  style='width:322px; margin-right: 0px;'>" + d.msg + "</div></div>");	
														}else{
															$("#chating").append("<div class='direct-chat-msg'><div class='direct-chat-info clearfix'><span class='direct-chat-name pull-left'>" + d.userName + "</span><div><div class='direct-chat-text' style='width:322px; margin-left: 0px;' >" + d.msg + "</div></div>");
														}
															
													}else{
														console.warn("unknown type!")
													}
												}
											}
									
											document.addEventListener("keypress", function(e){
												if(e.keyCode == 13){ //enter press
													send();
												}
											});
										}
									
										function chatName(){
											var userName = $("#userName").val();
											if(userName == null || userName.trim() == ""){
												alert("사용자 이름을 입력해주세요.");
												$("#userName").focus();
											}else{
												wsOpen();
												$("#yourName").hide();
												$("#yourMsg").show();
											}
										}
									
										function send() {
											var option ={
												type: "message",
												eNUM: eNUM,
												roomNumber: roomNumber,
												sessionId : $("#sessionId").val(),
												userName : id,
												msg : $("#chatting").val()
											}
											ws.send(JSON.stringify(option))
											$('#chatting').val("");
										}
</script>


		
		<input type="hidden" id="sessionId" value="">
		<!-- <input type="hidden" id="roomNumber" value="${roomNumber}"> -->

		
		
		
		<div class="page-content page-container" id="page-content">
    <div class="padding">
      
            
                <div class="box box-warning direct-chat direct-chat-warning" style="width: 600px;border: 3 solid yellow">
                    <div class="box-header with-border">
                        <h3 class="box-title" align="left">시공업체와 직접 대화해보세요!</h3>
                    </div>
                    <div class="box-body" style="background-color: #ffe5c0;">
                        <div class="direct-chat-messages">
                        <!--append로 메세지 추가  -->
                           <div id="chating" >
							</div>
                        </div>
                    </div>
                    <div class="box-footer">
                      <div class="input-group">
                       <div id="yourName">
						<table class="inputTable">
							<tr>
								<th>사용자명</th>
								<th><input type="text" name="userName" id="userName" class="appendId" readonly="readonly" style="margin-bottom: 0px"></th>
								
								<th><button type="button"  onclick="chatName()" id="startBtn" class="btn btn-warning btn-flat">이름 등록</button></th>
							</tr>
						</table>
					</div>
					<div id="yourMsg">
						<table class="inputTable">
							<tr>
								<th>메시지</th>
								<th><input type="text" id="chatting" placeholder="보내실 메시지를 입력하세요." style="width: 200px;margin-bottom: 0px"></th>
								<th><button type="button" onclick="send()" id="sendBtn" class="btn btn-warning btn-flat">보내기</button></th>
							</tr>
						</table>
					</div>
					</div>
                    </div>
                </div>
            
       
    </div>
</div>
		
	
						</div>					
					</div>
					<!-- Shop-Content End -->
				</div>
			</div>
					<!-- 리스트 끝 -->			
	</form>		
										
			

 						

</div>
</div>
	</div>			
	</div>
	</div>
	</div>
	</div>
	</div>
	  	<div id="footer"></div>   

<script type="text/javascript">
$(function(){
    $("#footer").load("../footer.html"); 
  });

</script>
			
			
			<!-- FOOTER END -->
			<!-- QUICKVIEW PRODUCT -->
			<div id="quickview-wrapper">
			 
	
			     
			   
			
			<!-- END QUICKVIEW PRODUCT -->	
			
		</div>
		<!-- WRAPPER END -->
		
		<!--kakao map  -->
		
		
		<!-- all js here -->
		<!-- jquery latest version -->
		<script src="../js/vendor/jquery-1.12.0.min.js"></script>
		<!-- bootstrap js -->
		<script src="../js/bootstrap.min.js"></script>
		<!-- jquery.meanmenu js -->
		<script src="../js/jquery.meanmenu.js"></script>
		<!-- slick.min js -->
		<script src="../js/slick.min.js"></script>
		<!-- jquery.treeview js -->
		<script src="../js/jquery.treeview.js"></script>
		<!-- lightbox.min js -->
		<script src="../js/lightbox.min.js"></script>
		<!-- jquery-ui js -->
		<script src="../js/jquery-ui.min.js"></script>
		<!-- jquery.nivo.slider js -->
		<script src="../lib/js/jquery.nivo.slider.js"></script>
		<script src="../lib/home.js"></script>
		<!-- jquery.nicescroll.min js -->
		<script src="../js/jquery.nicescroll.min.js"></script>
		<!-- countdon.min js -->
		<script src="../js/countdon.min.js"></script>
		<!-- wow js -->
		<script src="../js/wow.min.js"></script>
		<!-- plugins js -->
		<script src="../js/plugins.js"></script>
		<!-- main js -->
		<script src="../js/main.js"></script>
	</body>
</html>
