<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Quixlab - Bootstrap Admin Dashboard Template by Themefisher.com</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
    <!-- Custom Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

<style>
.pagination {
  display: inline-block;
}

.pagination a {
  color: black;
  float: left;
  padding: 8px 16px;
  text-decoration: none;
}

.pagination a.active {
  background-color: #4CAF50;
  color: white;
  border-radius: 5px;
}

.pagination a:hover:not(.active) {
  background-color: #ddd;
  border-radius: 5px;
}
</style>

<style type="text/css">
td{
	padding:0px;
}
th{
	padding:0px;
}

</style>
</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    
    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
         <div class="nav-header">
            <div class="brand-logo" style="margin: 20px 20px 20px 20px">
                    <span class="logo-compact"><img src="./images/1122.png" alt=""></span>
                    <span class="brand-title" style="font-size: 24px; color:white;">MOFF</span>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->

        <!--**********************************
            Header start
        ***********************************-->
       <div class="header">    
            <div class="header-content clearfix">
                
                <div class="nav-control">
                    <div class="hamburger">
                        <span class="toggle-icon"><i class="icon-menu"></i></span>
                    </div>
                </div>
                <div class="header-left">
                    <div class="input-group icons">
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
<div class="nk-sidebar">           
            <div class="nk-nav-scroll">
                <ul class="metismenu" id="menu">
                    <li class="nav-label">관리자 페이지</li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-line-chart" style="font-size:20px"></i>&ensp;<span class="nav-text">매출관리</span>
                        </a>
                    	<ul aria-expanded="false">
                            <li><a href="newfile6.html">매출관리</a></li>
                           
                        </ul>
                    </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-pencil-square-o" style="font-size:20px">&ensp;</i><span class="nav-text">주문관리</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="adminSales.html">주문관리</a></li>
                          
                        </ul>
                    </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-line-chart" style="font-size:20px"></i>&ensp;<span class="nav-text">주문통계</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="adminProduct.html">주문통계</a></li>
                            <!-- <li><a href="./app-calender.html">배달승인</a></li> -->
                        </ul>
                    </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-cog" style="font-size:20px">&ensp;</i><span class="nav-text">상품관리</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="adminProductWrite.html">상품등록</a></li>
                            <li><a href="adminProductList.html">상품리스트</a></li>
                            <li><a href="adminStockList.html">재고관리</a></li>
                            <!-- <li><a href="adminProduct.html">주문통계</a></li> -->
                        </ul>
                    </li>
                    
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                           <i class="fa fa-address-book-o" style="font-size:20px"></i>&ensp;<span class="nav-text">회원관리</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="AdminMember.html">회원관리</a></li>
                            <!-- <li><a href="./app-calender.html">배달승인</a></li> -->
                        </ul>
                    </li>
                     <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-calendar-check-o" style="font-size:20px"></i>&ensp;<span class="nav-text">배달승인</span>
                        </a>
                        <ul aria-expanded="false">
                           <li><a href="AdminBoyDATA.html">배달승인</a></li>
                            <!-- <li><a href="./app-calender.html">배달승인</a></li> -->
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
		 <div class="container-fluid ">
            <div class="row page-titles mx-0" style="background-color: #fff">

							<select id="_choice" name="choice"  style="height: 35px; width: 80px;  border: none;">
								<option value="" selected="selected">선택</option>
								<option value="prodName">상품명</option>
								<option value="category">카테고리</option>
								<option value="subCategory">서브카테고리</option>
								<!-- <option value="content">내용</option>
								<option value="writer">작성자</option> -->
							</select>
                            <div style="width:300px; float:right; " class="input-group icons">
				        			<input type="text" class="form-control" placeholder="상품명 입력" id="_searchWord" name="searchWord" style="border: none;"/>
				           			<button type="button" class="btn mb-1 btn-primary" id="btnSearch">검색
				            		</button>
				        	</div>
                           <!-- <div style="float: left">
                           </div> -->
			 </div>
            <!-- row -->
            <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
             		  <div class="card-body" style="text-align: center">
                                <h4 class="card-title" style="padding: 20px">상품 리스트</h4>
                                <div class="table-responsive"  style="margin-left: 30px;">
                                    <table class="table header-border table-hover verticle-middle">
                                        <thead>
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">상품명</th>
                                                <th scope="col">카테고리</th>
                                                <th scope="col">서브카테고리</th>
                                                <th scope="col">추가</th>
                                            </tr>
                                        </thead>
                                        <tbody id="adminList">
                                           <!--  <tr>
                                                <th>3</th>
                                                <td>Milk Powder</td>
                                                <td>
                                                    <div class="progress" style="height: 10px">
                                                        <div class="progress-bar gradient-3" style="width: 70%;" role="progressbar"><span class="sr-only">70% Complete</span>
                                                        </div>
                                                    </div> 
                                                </td>
                                                <td><span class="label btn-rounded gradient-3">70%</span>
                                                </td>
                                            </tr> -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                             <div id="adminListPagination" align="center"></div>                     
                    </div>
                </div>









         
   
            <!-- #/ container -->
        </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->
        
        
        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright &copy; Designed & Developed by <a href="https://themeforest.net/user/quixlab">Quixlab</a> 2018</p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <script src="plugins/common/common.min.js"></script>
    <script src="js/custom.min.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/gleek.js"></script>
    <script src="js/styleSwitcher.js"></script>
    
    
<script type="text/javascript">

    <!-- adminProductList -->
    
    adminProductList(0);
    adminProductCount();
    
    $("#searchBtn").click(function () {
    	 adminProductList(0);
    	 adminProductCount();
	});
    
    function adminProductList(pagenum) {
    	
    //	alert('pagenum' + pagenum);
		
    	$.ajax({
    		url:'http://localhost:3000/adminProductList',
    		type:'get',
    		data:{page:pagenum, choice:$("#_choice").val(), search:$("#_search").val()},
    		success:function(list){
    		//	alert('adminProductList succ' + JSON.stringify(list));
    				
    			$(".listRemove").remove();
    			$.each(list, function(i, data){
    				let listStr = '<tr class="listRemove">'
				      +              '<th>' + data.prodNum + '</th>'
				      +              '<td><a href="adminProductDetail.html?prodNum=' + data.prodNum + '">'+ data.prodName + '</a></td>'
				      +              '<td>' + data.category + '</td>'
				      +              '<td>' + data.subCategory + '</td>'
				      +              "<td><a href='#;' onclick='add(" + '"' + data.prodNum + '"' + ")'><span class='label btn-rounded gradient-3'>옵션추가</span></a></td>"
				      +            '</tr>'
				     $("#adminList").append(listStr);
    				
    			});
    		
    		
    		},
    		error:function(){
    			alert('adminProductList err');
    		}
    	});
	}

    
    
    function add(prodNum){
    	location.href="adminProductAdd.html?prodNum=" + prodNum;
    }
    
    
    
    
    
    
    function adminProductCount(){
    	
    	$.ajax({
    		url:'http://localhost:3000/adminProductCount',
    		type:'get',
    		data:{ page:0, choice:$("#_choice").val(), search:$("#_search").val()},
   	      	success:function( pagenum ){
   	     //     alert("페이지 확인:" + pagenum);
   	          
   	      	//페이지가 아예 없지 않을시에
      	      	 if(pagenum != 0 ){
   					var page = "<div class='pagination' style='margin-top: 20px;' align='center'>";

   					page += "<a href='#' >&laquo;</a>";
   					
   					//페이징 생성
   					for( pageN = 0; pageN < pagenum; pageN++ ){
   						if(pagenum == pageN){
   							page += "<a class='active'>" + (pageN + 1) +"</a>";
   						}else if(pagenum != pageN){
   							page += "<a href='#'  onclick='adminProductList("+ pageN +"); return false;'> "+ (pageN + 1) + "</a>";
   						}
   					}//for end
   					
   					page += "<a href='#' onclick='adminProductList("+ (pageN - 1) +")'>&raquo;</a>";
   					page += "</div>";
   					
   					$("#adminListPagination").html(page);
   				}//if end
    		
    		
    		},
    		error:function(){
    			alert('adminProductCount err');
    		}
    		
    	});
    }


    
    
</script>
    
    
    
    

</body>

</html>